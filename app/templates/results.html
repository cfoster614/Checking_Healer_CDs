{% extends 'base.html' %}
{% block stylesheets %}
<link rel="stylesheet" href="/static/results.css">
{% endblock %}
{% block content %}

<form id="main-form" method="POST" >
    <fieldset id="encounter-selection" data="encounter">
        <ul class="list">
            <li class="item">
                <div class="flex">
                    <div class="flex-sub content">
                        <img src="{{boss.icon}}">
                    </div>
                 
                    <div class="flex-main">
                        <h2>{{boss.name}}</h2>
                        <div class="pulls radio-wrapper">
                            {% set wipe_count = namespace(value=0) %}
                            {% for e in encounter %}
                            <label class="radio-pulls">
                                {% set wipe_count.value = wipe_count.value + 1 %}
                            <input type="radio" name="pull-list" value="{{e.id}}" checked>
                                <div class="flex">
                                {% if e.kill %}
                                    <div class="flex-main">
                                        Kill
                                    </div>
                                    <div class="flex-sub">
                                        {{readable_time(e.endTime - e.startTime)}}
                                    </div>
                                {% else %}
                                    <div class="flex-main wipe">
                                        Wipe {{wipe_count.value}}
                                        {{e.fightPercentage}}% 
                                    </div>
                                    <div class="flex-sub wipe">
                                        {{readable_time(e.endTime - e.startTime)}}
                                    </div>
                                {% endif %}
                                </div>
                         
                                
                                </label>
                                {% endfor %}
                    
                        </div>
                    </div>
                </div>             
            </li>
              
        </ul>
    </fieldset>

    <fieldset id="spell-form">
        
        <div class="spell-input-box">
            <div class="form-header flex"></div>
            <div class="spell-wrapper flex">
                <input type="text" class="spells" placeholder="Revival" id="spells-input-0" name="spells">
                <input type="hidden" class="hidden-ids" name="hidden-ids">
                <button type="button" class="btn timer-btn">Add new time</button>
            </div>
            <div class ="timers-wrapper">
                <input type="text" name="timers" class="timers" placeholder="00.10">
            </div>
            <div class="suggestions-box" id="spell-wrapper">
                <ul class="suggestions" id="spell-suggestions"></ul>
            </div>
            
        </div>

    </fieldset>
    <button class="btn add-btn" type="button">Add new spell</button>
    <button>See result!</button>
</form>

{% endblock %}